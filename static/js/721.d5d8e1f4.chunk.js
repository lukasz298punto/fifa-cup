"use strict";(self.webpackChunkfifa_cup=self.webpackChunkfifa_cup||[]).push([[721],{3721:function(e,r,s){s.r(r),s.d(r,{default:function(){return se}});var n=s(9439),a=s(1413),t=s(5987),l=s(6650),i=s(6582),c=s(1091),o=s(1508),d=s(5953),u=s(9911),p=s(1872),m=s(228),x=s(166),f=s(4293),h=s(4565),j=s(501),v=s(3978),Z=s(5419),b=s(788),y=s(464),N=s(5629),w=s(6132),k=s(9562),I=s(4346),z=s(9762),g=s(9062),P=s(5738),C=s(763),B=(s(1361),s(2791)),A=s(3168),F=s(184);function Q(e){var r=e.onClose,s=e.onPick,n=e.disabledPlayers,t=e.open,l=(0,P.iM)([(0,g.ar)("active","==",1)]),i=l.data,c=l.isLoading,o=(0,A.$)().t;return(0,F.jsx)(b.Z,{onClose:r,open:t,children:(0,F.jsxs)(z.g,{loading:c,children:[(0,F.jsx)(y.Z,{children:o("Wybierz zawodnika")}),(0,F.jsx)(N.Z,{sx:{pt:0},children:(0,C.map)(null===i||void 0===i?void 0:i.docs,(function(e){var r=e.data();return(0,F.jsxs)(w.ZP,{disabled:(0,C.includes)(n,e.id),button:!0,onClick:function(){return s((0,a.Z)((0,a.Z)({},r),{},{id:e.id}))},children:[(0,F.jsx)(k.Z,{children:(0,F.jsx)(v.Z,{sx:{bgcolor:Z.Z[100],color:Z.Z[600]},children:(0,F.jsx)(j.Z,{})})}),(0,F.jsx)(I.Z,{primary:r.firstName+" "+r.lastName})]},e.id)}))})]})})}var M=B.memo(Q),D=s(8439),S=s(3811),V=s(1487),T=s(6815),W=s(1680),E=s(9773),q=s(9827),G=s(807),L=s(4337),$=s(4259),_=function(e){return 0===e?$.Qk.D:e>0?$.Qk.W:$.Qk.L},R=function(e){return 0===e?1:e>0?3:0},H=function(e,r){var s,n=null===(s=(0,C.find)(r,{id:e}))||void 0===s?void 0:s.data();return(null===n||void 0===n?void 0:n.firstName)+" "+(null===n||void 0===n?void 0:n.lastName)},J=s(7539);function K(e){var r=e.players,s=e.promotion,n=e.onAddPlayer,a=e.results,t=e.className,l=(0,A.$)().t,i=(0,P.iM)([(0,g.ar)("active","==",1)]).data,c=(0,B.useCallback)((function(e){return(0,C.reduce)(a,(function(r,s){var n=s.playerA,a=s.playerB;if(n.score&&a.score){if(n.id===e)return(0,C.concat)(r,{status:_(parseInt(n.score)-parseInt(a.score)),plus:parseInt(n.score),minus:parseInt(a.score),diff:parseInt(n.score)-parseInt(a.score),pkt:R(parseInt(n.score)-parseInt(a.score))});if(a.id===e)return(0,C.concat)(r,{status:_(parseInt(a.score)-parseInt(n.score)),plus:parseInt(a.score),minus:parseInt(n.score),diff:parseInt(a.score)-parseInt(n.score),pkt:R(parseInt(a.score)-parseInt(n.score))})}return r}),[])}),[a]),o=(0,B.useMemo)((function(){if((0,C.isEmpty)(a))return(0,C.map)(r,(function(e){return{formId:e.formId,id:e.id||"",pkt:0,m:0,w:0,r:0,p:0,brPlus:0,brMinus:0,brDiff:0}}));var e=(0,C.map)(r,(function(e){var r=c(e.id);return{formId:e.formId,id:e.id||"",pkt:(0,C.reduce)(r,(function(e,r){return e+r.pkt}),0),m:(0,C.size)(r),w:(0,C.size)((0,C.filter)(r,{status:$.Qk.W})),r:(0,C.size)((0,C.filter)(r,{status:$.Qk.D})),p:(0,C.size)((0,C.filter)(r,{status:$.Qk.L})),brPlus:(0,C.reduce)(r,(function(e,r){return e+r.plus}),0),brMinus:(0,C.reduce)(r,(function(e,r){return e+r.minus}),0),brDiff:(0,C.reduce)(r,(function(e,r){return e+r.diff}),0)}}));return(0,C.orderBy)(e,["pkt","brDiff","brPlus"],["desc","desc","desc"])}),[a,r,c]);return(0,F.jsx)(L.x,{className:t,children:(0,F.jsxs)(W.Z,{children:[(0,F.jsx)(q.Z,{children:(0,F.jsxs)(G.Z,{children:[(0,F.jsx)(J.p,{align:"left",children:l("Zawodnik")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("Pkt")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("M")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("W")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("R")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("P")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("Br+")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("Br-")}),(0,F.jsx)(J.p,{width:50,className:"text-center",children:l("+/-")})]})}),(0,F.jsx)(E.Z,{children:(0,C.map)(o,(function(e,r){var a=e.formId,t=e.id,l=e.pkt,c=e.m,o=e.w,d=e.r,u=e.p,p=e.brPlus,m=e.brMinus,x=e.brDiff;return(0,F.jsxs)(G.Z,{style:{backgroundColor:s>r?V.Z[100]:T.Z[100]},children:[(0,F.jsx)(J.p,{component:"th",scope:"row",children:t?H(t,null===i||void 0===i?void 0:i.docs):(0,F.jsx)(S.Z,{className:"p-0",size:"small",color:"primary",onClick:function(){return n(r)},children:(0,F.jsx)(D.Z,{})})}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center font-bold",children:l}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:c}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:o}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:d}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:u}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:p}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:m}),(0,F.jsx)(J.p,{component:"th",scope:"row",className:"text-center",children:x})]},a)}))})]})})}var O=B.memo(K),U=s(1134),X=s(8163),Y=["children","value","index"];function ee(e){var r=e.children,s=e.value,n=e.index,l=(0,t.Z)(e,Y);return(0,F.jsx)("div",(0,a.Z)((0,a.Z)({role:"tabpanel",hidden:s!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:s===n&&(0,F.jsx)(m.Z,{sx:{p:3},children:(0,F.jsx)(h.Z,{children:r})})}))}var re=3;var se=function(){var e=(0,B.useState)("Faza grupowa"),r=(0,n.Z)(e,1)[0],s=(0,P.iM)([(0,g.ar)("active","==",1)]).data,t=(0,B.useState)(!1),h=(0,n.Z)(t,2),j=h[0],v=h[1],Z=(0,B.useState)(null),b=(0,n.Z)(Z,2),y=b[0],N=b[1],w=(0,B.useCallback)((function(e){N(e),v(!0)}),[]),k=(0,U.cI)(),I=k.control,z=(k.handleSubmit,k.reset),Q=(k.register,k.setValue,(0,U.Dq)({control:I,name:"players",keyName:"formId"})),D=Q.fields,S=(Q.append,Q.prepend,Q.remove,Q.swap,Q.move,Q.insert,Q.update),V=(0,U.Dq)({control:I,name:"results",keyName:"formId"}),T=V.fields,W=V.replace;(0,B.useEffect)((function(){z({players:(0,C.map)((0,C.range)(0,re),(function(){return{id:"",firstName:"",lastName:""}})),results:[]})}),[z]),(0,X.Z)((function(){(0,C.isEmpty)((0,C.filter)(D,(function(e){return!e.id})))&&W((0,C.map)((0,C.combinations)(D,2),(function(e){var r=(0,n.Z)(e,2),s=r[0],a=r[1];return{playerA:{id:s.id||"",score:""},playerB:{id:a.id||"",score:""}}}))),console.log(D,"fields")}),[D]),console.log("results","results");var E=(0,U.qo)({control:I,name:"results"});console.log(E,"resultsValues");var q=(0,A.$)().t,G=(0,B.useCallback)((function(){N(null),v(!1)}),[]),L=(0,B.useCallback)((function(e){S(y,{id:e.id,firstName:e.firstName,lastName:e.lastName}),G()}),[G,y,S]),$=(0,B.useMemo)((function(){return(0,C.compact)((0,C.map)(D,"id"))}),[D]);return console.log(T,"results"),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(M,{onClose:G,open:j,onPick:L,disabledPlayers:$}),(0,F.jsxs)(l.Z,{children:[(0,F.jsxs)(f.Z,{value:"Faza grupowa",onChange:function(e,r){},variant:"scrollable",children:[(0,F.jsx)(x.Z,{label:"Faza grupowa",value:"Faza grupowa"}),(0,F.jsx)(x.Z,{label:"1/8",value:"1/8"}),(0,F.jsx)(x.Z,{label:"1/4",value:"1/4"}),(0,F.jsx)(x.Z,{label:"1/2",value:"1/2"}),(0,F.jsx)(x.Z,{label:"mecz o 3.",value:"mecz o 3."}),(0,F.jsx)(x.Z,{label:"Fina\u0142",value:"Fina\u0142"})]}),(0,F.jsxs)(ee,{value:r,index:"Faza grupowa",children:[(0,F.jsxs)(i.Z,{variant:"outlined",children:[(0,F.jsx)(c.Z,{variant:"contained",size:"small",children:"Grupa A"}),(0,F.jsx)(c.Z,{size:"small",children:"Grupa B"}),(0,F.jsx)(c.Z,{size:"small",children:"Grupa C"})]}),(0,F.jsx)(O,{className:"my-2",players:D,onAddPlayer:w,promotion:1,results:E}),(0,F.jsxs)(m.Z,{children:[(0,C.isEmpty)(T)&&(0,F.jsx)(o.Z,{severity:"info",variant:"standard",children:q("Wprowad\u017a wszystkich graczy aby wygenerowa\u0107 terminarz")}),(0,C.map)(T,(function(e,r){return e.playerA.id&&e.playerB.id&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(d.ZP,{container:!0,className:"py-1 ",wrap:"nowrap",children:[(0,F.jsx)(d.ZP,{item:!0,xs:5,className:"flex justify-end items-center",children:(0,F.jsx)(U.Qr,{defaultValue:e.playerA.id,name:"results.".concat(r,".playerA.id"),control:I,render:function(e){var r=e.field.value;e.fieldState.error;return(0,F.jsx)("span",{className:"text-xs break-all",children:H(r,null===s||void 0===s?void 0:s.docs)})}})}),(0,F.jsx)(d.ZP,{item:!0,children:(0,F.jsxs)(m.Z,{className:"flex flex-nowrap",children:[(0,F.jsx)(U.Qr,{defaultValue:e.playerA.score,name:"results.".concat(r,".playerA.score"),control:I,render:function(e){var r=e.field;e.fieldState.error;return(0,F.jsx)(u.Z,(0,a.Z)((0,a.Z)({inputProps:{className:"p-1 text-center"}},r),{},{className:"mx-1 w-10",size:"small",id:"outlined-basic",variant:"outlined"}))}}),":",(0,F.jsx)(U.Qr,{defaultValue:e.playerB.score,name:"results.".concat(r,".playerB.score"),control:I,render:function(e){var r=e.field;e.fieldState.error;return(0,F.jsx)(u.Z,(0,a.Z)((0,a.Z)({inputProps:{className:"p-1 text-center"}},r),{},{className:"mx-1 w-10",size:"small",id:"outlined-basic",variant:"outlined"}))}})]})}),(0,F.jsx)(d.ZP,{item:!0,className:"flex justify-start items-center",xs:5,children:(0,F.jsx)(U.Qr,{defaultValue:e.playerB.id,name:"results.".concat(r,".playerB.id"),control:I,render:function(e){var r=e.field.value;e.fieldState.error;return(0,F.jsx)("span",{className:"text-xs break-all",children:H(r,null===s||void 0===s?void 0:s.docs)})}})})]}),(0,F.jsx)(p.Z,{})]})}))]})]}),(0,F.jsx)(ee,{value:r,index:"1/8",children:"Item Two"}),(0,F.jsx)(ee,{value:r,index:"1/4",children:"Item Three"}),(0,F.jsx)(ee,{value:r,index:"1/2",children:"Item Three"}),(0,F.jsx)(ee,{value:r,index:"mecz o 3.",children:"Item Three"}),(0,F.jsx)(ee,{value:r,index:"Fina\u0142",children:"Item Three"})]})]})}}}]);
//# sourceMappingURL=721.d5d8e1f4.chunk.js.map