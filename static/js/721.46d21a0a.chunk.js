"use strict";(self.webpackChunkfifa_cup=self.webpackChunkfifa_cup||[]).push([[721],{3721:function(e,r,s){s.r(r),s.d(r,{default:function(){return re}});var n=s(9439),t=s(1413),a=s(5987),l=s(6650),i=s(6582),c=s(1091),o=s(1508),d=s(5953),u=s(9911),p=s(1872),m=s(228),x=s(166),f=s(4293),h=s(4565),j=s(501),v=s(3978),Z=s(5419),b=s(788),y=s(464),N=s(5629),w=s(6132),k=s(9562),I=s(4346),z=s(9762),g=s(5738),P=s(763),C=(s(1361),s(2791)),B=s(3168),A=s(184);function F(e){var r=e.onClose,s=e.onPick,n=e.disabledPlayers,a=e.open,l=(0,g.qu)(),i=l.data,c=l.isLoading,o=(0,B.$)().t;return(0,A.jsx)(b.Z,{onClose:r,open:a,children:(0,A.jsxs)(z.g,{loading:c,children:[(0,A.jsx)(y.Z,{children:o("Wybierz zawodnika")}),(0,A.jsx)(N.Z,{sx:{pt:0},children:(0,P.map)(null===i||void 0===i?void 0:i.docs,(function(e){var r=e.data();return(0,A.jsxs)(w.ZP,{disabled:(0,P.includes)(n,e.id),button:!0,onClick:function(){return s((0,t.Z)((0,t.Z)({},r),{},{id:e.id}))},children:[(0,A.jsx)(k.Z,{children:(0,A.jsx)(v.Z,{sx:{bgcolor:Z.Z[100],color:Z.Z[600]},children:(0,A.jsx)(j.Z,{})})}),(0,A.jsx)(I.Z,{primary:r.firstName+" "+r.lastName})]},e.id)}))})]})})}var Q=C.memo(F),D=s(8439),S=s(3811),q=s(1487),M=s(6815),V=s(1680),T=s(9773),W=s(9827),E=s(807),G=s(4337),L=s(4259),$=function(e){return 0===e?L.Qk.D:e>0?L.Qk.W:L.Qk.L},_=function(e){return 0===e?1:e>0?3:0},R=function(e,r){var s,n=null===(s=(0,P.find)(r,{id:e}))||void 0===s?void 0:s.data();return(null===n||void 0===n?void 0:n.firstName)+" "+(null===n||void 0===n?void 0:n.lastName)},H=s(7539);function J(e){var r=e.players,s=e.promotion,n=e.onAddPlayer,t=e.results,a=e.className,l=(0,B.$)().t,i=(0,g.qu)().data,c=(0,C.useCallback)((function(e){return(0,P.reduce)(t,(function(r,s){var n=s.playerA,t=s.playerB;if(n.score&&t.score){if(n.id===e)return(0,P.concat)(r,{status:$(parseInt(n.score)-parseInt(t.score)),plus:parseInt(n.score),minus:parseInt(t.score),diff:parseInt(n.score)-parseInt(t.score),pkt:_(parseInt(n.score)-parseInt(t.score))});if(t.id===e)return(0,P.concat)(r,{status:$(parseInt(t.score)-parseInt(n.score)),plus:parseInt(t.score),minus:parseInt(n.score),diff:parseInt(t.score)-parseInt(n.score),pkt:_(parseInt(t.score)-parseInt(n.score))})}return r}),[])}),[t]),o=(0,C.useMemo)((function(){if((0,P.isEmpty)(t))return(0,P.map)(r,(function(e){return{formId:e.formId,id:e.id||"",pkt:0,m:0,w:0,r:0,p:0,brPlus:0,brMinus:0,brDiff:0}}));var e=(0,P.map)(r,(function(e){var r=c(e.id);return{formId:e.formId,id:e.id||"",pkt:(0,P.reduce)(r,(function(e,r){return e+r.pkt}),0),m:(0,P.size)(r),w:(0,P.size)((0,P.filter)(r,{status:L.Qk.W})),r:(0,P.size)((0,P.filter)(r,{status:L.Qk.D})),p:(0,P.size)((0,P.filter)(r,{status:L.Qk.L})),brPlus:(0,P.reduce)(r,(function(e,r){return e+r.plus}),0),brMinus:(0,P.reduce)(r,(function(e,r){return e+r.minus}),0),brDiff:(0,P.reduce)(r,(function(e,r){return e+r.diff}),0)}}));return(0,P.orderBy)(e,["pkt","brDiff","brPlus"],["desc","desc","desc"])}),[t,r,c]);return(0,A.jsx)(G.x,{className:a,children:(0,A.jsxs)(V.Z,{children:[(0,A.jsx)(W.Z,{children:(0,A.jsxs)(E.Z,{children:[(0,A.jsx)(H.p,{align:"left",children:l("Zawodnik")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("Pkt")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("M")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("W")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("R")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("P")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("Br+")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("Br-")}),(0,A.jsx)(H.p,{width:50,className:"text-center",children:l("+/-")})]})}),(0,A.jsx)(T.Z,{children:(0,P.map)(o,(function(e,r){var t=e.formId,a=e.id,l=e.pkt,c=e.m,o=e.w,d=e.r,u=e.p,p=e.brPlus,m=e.brMinus,x=e.brDiff;return(0,A.jsxs)(E.Z,{style:{backgroundColor:s>r?q.Z[100]:M.Z[100]},children:[(0,A.jsx)(H.p,{component:"th",scope:"row",children:a?R(a,null===i||void 0===i?void 0:i.docs):(0,A.jsx)(S.Z,{className:"p-0",size:"small",color:"primary",onClick:function(){return n(r)},children:(0,A.jsx)(D.Z,{})})}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center font-bold",children:l}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:c}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:o}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:d}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:u}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:p}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:m}),(0,A.jsx)(H.p,{component:"th",scope:"row",className:"text-center",children:x})]},t)}))})]})})}var K=C.memo(J),O=s(1134),U=s(8163),X=["children","value","index"];function Y(e){var r=e.children,s=e.value,n=e.index,l=(0,a.Z)(e,X);return(0,A.jsx)("div",(0,t.Z)((0,t.Z)({role:"tabpanel",hidden:s!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},l),{},{children:s===n&&(0,A.jsx)(m.Z,{sx:{p:3},children:(0,A.jsx)(h.Z,{children:r})})}))}var ee=3;var re=function(){var e=(0,C.useState)("Faza grupowa"),r=(0,n.Z)(e,1)[0],s=(0,g.qu)().data,a=(0,C.useState)(!1),h=(0,n.Z)(a,2),j=h[0],v=h[1],Z=(0,C.useState)(null),b=(0,n.Z)(Z,2),y=b[0],N=b[1],w=(0,C.useCallback)((function(e){N(e),v(!0)}),[]),k=(0,O.cI)(),I=k.control,z=(k.handleSubmit,k.reset),F=(k.register,k.setValue,(0,O.Dq)({control:I,name:"players",keyName:"formId"})),D=F.fields,S=(F.append,F.prepend,F.remove,F.swap,F.move,F.insert,F.update),q=(0,O.Dq)({control:I,name:"results",keyName:"formId"}),M=q.fields,V=q.replace;(0,C.useEffect)((function(){z({players:(0,P.map)((0,P.range)(0,ee),(function(){return{id:"",firstName:"",lastName:""}})),results:[]})}),[z]),(0,U.Z)((function(){(0,P.isEmpty)((0,P.filter)(D,(function(e){return!e.id})))&&V((0,P.map)((0,P.combinations)(D,2),(function(e){var r=(0,n.Z)(e,2),s=r[0],t=r[1];return{playerA:{id:s.id||"",score:""},playerB:{id:t.id||"",score:""}}}))),console.log(D,"fields")}),[D]),console.log("results","results");var T=(0,O.qo)({control:I,name:"results"});console.log(T,"resultsValues");var W=(0,B.$)().t,E=(0,C.useCallback)((function(){N(null),v(!1)}),[]),G=(0,C.useCallback)((function(e){S(y,{id:e.id,firstName:e.firstName,lastName:e.lastName}),E()}),[E,y,S]),L=(0,C.useMemo)((function(){return(0,P.compact)((0,P.map)(D,"id"))}),[D]);return console.log(M,"results"),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Q,{onClose:E,open:j,onPick:G,disabledPlayers:L}),(0,A.jsxs)(l.Z,{children:[(0,A.jsxs)(f.Z,{value:"Faza grupowa",onChange:function(e,r){},variant:"scrollable",children:[(0,A.jsx)(x.Z,{label:"Faza grupowa",value:"Faza grupowa"}),(0,A.jsx)(x.Z,{label:"1/8",value:"1/8"}),(0,A.jsx)(x.Z,{label:"1/4",value:"1/4"}),(0,A.jsx)(x.Z,{label:"1/2",value:"1/2"}),(0,A.jsx)(x.Z,{label:"mecz o 3.",value:"mecz o 3."}),(0,A.jsx)(x.Z,{label:"Fina\u0142",value:"Fina\u0142"})]}),(0,A.jsxs)(Y,{value:r,index:"Faza grupowa",children:[(0,A.jsxs)(i.Z,{variant:"outlined",children:[(0,A.jsx)(c.Z,{variant:"contained",size:"small",children:"Grupa A"}),(0,A.jsx)(c.Z,{size:"small",children:"Grupa B"}),(0,A.jsx)(c.Z,{size:"small",children:"Grupa C"})]}),(0,A.jsx)(K,{className:"my-2",players:D,onAddPlayer:w,promotion:1,results:T}),(0,A.jsxs)(m.Z,{children:[(0,P.isEmpty)(M)&&(0,A.jsx)(o.Z,{severity:"info",variant:"standard",children:W("Wprowad\u017a wszystkich graczy aby wygenerowa\u0107 terminarz")}),(0,P.map)(M,(function(e,r){return e.playerA.id&&e.playerB.id&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(d.ZP,{container:!0,className:"py-1 items-center",wrap:"nowrap",children:[(0,A.jsx)(d.ZP,{item:!0,xs:5,className:"flex justify-end items-center",children:(0,A.jsx)(O.Qr,{defaultValue:e.playerA.id,name:"results.".concat(r,".playerA.id"),control:I,render:function(e){var r=e.field.value;e.fieldState.error;return(0,A.jsx)("span",{className:"text-xs break-all",children:R(r,null===s||void 0===s?void 0:s.docs)})}})}),(0,A.jsx)(d.ZP,{item:!0,children:(0,A.jsxs)(m.Z,{className:"flex flex-nowrap",children:[(0,A.jsx)(O.Qr,{defaultValue:e.playerA.score,name:"results.".concat(r,".playerA.score"),control:I,render:function(e){var r=e.field;e.fieldState.error;return(0,A.jsx)(u.Z,(0,t.Z)((0,t.Z)({inputProps:{className:"p-1 text-center"}},r),{},{className:"mx-1 w-10",size:"small",id:"outlined-basic",variant:"outlined"}))}}),":",(0,A.jsx)(O.Qr,{defaultValue:e.playerB.score,name:"results.".concat(r,".playerB.score"),control:I,render:function(e){var r=e.field;e.fieldState.error;return(0,A.jsx)(u.Z,(0,t.Z)((0,t.Z)({inputProps:{className:"p-1 text-center"}},r),{},{className:"mx-1 w-10",size:"small",id:"outlined-basic",variant:"outlined"}))}})]})}),(0,A.jsx)(d.ZP,{item:!0,className:"flex justify-start items-center",xs:5,children:(0,A.jsx)(O.Qr,{defaultValue:e.playerB.id,name:"results.".concat(r,".playerB.id"),control:I,render:function(e){var r=e.field.value;e.fieldState.error;return(0,A.jsx)("span",{className:"text-xs break-all",children:R(r,null===s||void 0===s?void 0:s.docs)})}})})]}),(0,A.jsx)(p.Z,{})]})}))]})]}),(0,A.jsx)(Y,{value:r,index:"1/8",children:"Item Two"}),(0,A.jsx)(Y,{value:r,index:"1/4",children:"Item Three"}),(0,A.jsx)(Y,{value:r,index:"1/2",children:"Item Three"}),(0,A.jsx)(Y,{value:r,index:"mecz o 3.",children:"Item Three"}),(0,A.jsx)(Y,{value:r,index:"Fina\u0142",children:"Item Three"})]})]})}}}]);
//# sourceMappingURL=721.46d21a0a.chunk.js.map